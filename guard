#!/usr/bin/env python

import argparse

def main():
    # TODO: check for file count (not zero)
    # TODO: allow to specify unique command for each file, like -u 'test {}'
    pass

def guard(args):
    checked_run(args.init)
    if args.run_command_on_start:
        checked_run(args.command)

    while True:
        # TODO: wait for file changes
        checked_run(args.command)

def parse_args():
    # TODO: parse args
    pass

def checked_run(command):
    if command is not None:
        run(command)

def run(command):
    # TODO: run command
    pass

if __name__ == '__main__':
    main()
